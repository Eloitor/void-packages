# Template file for 'briss'
pkgname=briss
version=0.9
revision=1
depends="virtual?java-runtime"
short_desc="Simple cross-platform application for cropping PDF files"
maintainer="Eloi Torrents <eloitor@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://sourceforge.net/projects/briss/"
changelog="https://sourceforge.net/p/briss/code/HEAD/tree/briss/CHANGELOG.txt?format=raw"
distfiles="${SOURCEFORGE_SITE}/briss/briss-${version}.tar.gz"
checksum=45dd668a9ceb9cd59529a9fefe422a002ee1554a61be07e6fc8b3baf33d733d9

post_build() {
	cat > briss <<_EOF
#!/bin/sh -e
cd /usr/share/briss
exec java -jar briss-${version}.jar "\$@"
_EOF
}

do_install() {
	vinstall bcprov-jdk15-1.46.jar 644 usr/share/briss
	vinstall itextpdf-5.2.0.jar 644 usr/share/briss
	vinstall jai-core-1.0.jar 644 usr/share/briss
	vinstall jpedal-4.74b27.jar 644 usr/share/briss
	vinstall bcmail-jdk15-1.46.jar 644 usr/share/briss
	vinstall bctsp-jdk15-1.46.jar 644 usr/share/briss
	vinstall briss-0.9.jar 644 usr/share/briss
	vinstall jai-codec-1.0.jar 644 usr/share/briss
	vinstall jai-imageio-1.0.jar 644 usr/share/briss

	vbin briss
}
