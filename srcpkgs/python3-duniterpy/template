# Template file for 'python3-duniterpy'
pkgname=python3-duniterpy
_pkgname=duniterpy
version=1.1.0
revision=1
wrksrc=$pkgname-$version/duniterpy
build_style=python3-module
hostmakedepends="python3-setuptools"
makedepends="python3-build python3-poetry-core python3-installer"
depends="python3 python3-aiohttp python3-scrypt python3-pynacl python3-base58 python3-pyaes python3-pyPEG2 python3-websocket-client attr"
short_desc="Python APIs library to implement Duniter clients software"
maintainer="Eloi Torrents <eloitor@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://git.duniter.org/clients/python/duniterpy"
#changelog=""
distfiles="https://git.duniter.org/clients/python/$_pkgname/-/archive/$version/$_pkgname-$version.tar.gz"
checksum=436bf9d72884b6f3bada4c2efa514c52d45ae9d4df62b94120776282e0c77b75

do_build() {
	python -m build --wheel --no-isolation
}

do_install() {
	python3 -m installer --destdir="$DESTDIR" dist/*.whl
}
