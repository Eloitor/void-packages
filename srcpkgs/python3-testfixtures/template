# Template file for 'python3-testfixtures'
pkgname=python3-testfixtures
version=7.0.0
revision=1
wrksrc=testfixtures-${version}
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3"
checkdepends="python3-pytest python3-sybil python3-zope.component python3-Twisted tox"
short_desc="Collection of helpers and mock objects for unit tests and doc tests"
maintainer="Eloi Torrents <elotor@disroot.org>"
license="MIT"
homepage="https://github.com/Simplistix/testfixtures"
distfiles="${PYPI_SITE}/t/testfixtures/testfixtures-${version}.tar.gz"
checksum=8ecac5a308793451640594d9ca42ce89b987711e1e4c9312855321ec21f6ccb4

do_check() {
	cd build/lib
	pytest -v --ignore="testfixtures/tests/test_django" # Fails to import
}

do_install() {
	vlicense LICENSE.txt
}
