# Template file for 'python3-testfixtures'
pkgname=python3-testfixtures
version=7.2.2
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3"
checkdepends="python3-pytest python3-sybil python3-zope.component python3-Twisted tox"
short_desc="Collection of helpers and mock objects for unit tests and doc tests"
maintainer="Eloi Torrents <elotor@disroot.org>"
license="MIT"
homepage="https://github.com/Simplistix/testfixtures"
distfiles="${PYPI_SITE}/t/testfixtures/testfixtures-${version}.tar.gz"
checksum=80774aecb0249458275ab783f53093fbe75795ff2b3218d22ce3fff0a12c4da6

do_check() {
	cd build/lib
	pytest -v --ignore="testfixtures/tests/test_django" # Fails to import
}

post_install() {
	vlicense LICENSE.txt
}
