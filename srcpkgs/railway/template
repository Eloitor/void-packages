# Template file for 'railway'
pkgname=railway
version=2.4.0
revision=1
build_style=meson
build_helper=rust
hostmakedepends="cargo desktop-file-utils gettext glib-devel
 gtk-update-icon-cache pkg-config"
makedepends="libadwaita-devel rust-std"
short_desc="Travel with all your train information in one place"
maintainer="Eloi Torrents <eloitor@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://gitlab.com/schmiddi-on-mobile/railway"
changelog="https://gitlab.com/schmiddi-on-mobile/railway/-/raw/master/CHANGELOG.md"
distfiles="https://gitlab.com/schmiddi-on-mobile/railway/-/archive/${version}/railway-${version}.tar.gz"
checksum=8ccd58d5fd66c8e05183981a84db93913d8a69da7dc91040eb59113679a4d30c

post_patch() {
	if [ "$CROSS_BUILD" ]; then
		vsed -i src/meson.build \
			-e "s%rust_target /%'${RUST_TARGET}' / rust_target /%"
	fi
}
