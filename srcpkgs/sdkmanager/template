# Template file for 'sdkmanager'
pkgname=sdkmanager
version=0.6.7
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3 gnupg"
checkdepends="python3-requests python3-defusedxml gnupg"
short_desc="Drop-in replacement for sdkmanager from the Android SDK"
maintainer="Eloi Torrents <eloitor@disroot.org>"
license="AGPL-3.0-or-later"
homepage="https://gitlab.com/fdroid/sdkmanager"
distfiles="https://gitlab.com/fdroid/sdkmanager/-/archive/${version}/sdkmanager-${version}.tar.gz"
checksum=46515943a5872418a53e127afa4d892ac2a6d29b9df82dbdd73dbfd40141ded0

post_install() {
	vcompletion completion/bash-completion bash
	vlicense LICENSE
}

do_check() {
	python3 test_sdkmanager.py
}
