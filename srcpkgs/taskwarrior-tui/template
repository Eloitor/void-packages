# Template file for 'taskwarrior-tui'
pkgname=taskwarrior-tui
version=0.26.3
revision=1
build_style=cargo
depends="task"
checkdepends="git task"
short_desc="Terminal user interface for taskwarrior"
maintainer="Eloi Torrents <eloitor@disroot.org>"
license="MIT"
homepage="https://kdheepak.com/taskwarrior-tui/"
distfiles="https://github.com/kdheepak/taskwarrior-tui/archive/refs/tags/v${version}.tar.gz"
checksum=76f053e2e3c9e71b8106e3fc3c18fd4400a98c09a8cde5972305e0eeaecc08d3

post_install() {
	vlicense LICENSE
	vman docs/taskwarrior-tui.1
	vcompletion completions/_taskwarrior-tui zsh
	vcompletion completions/taskwarrior-tui.bash bash
	vcompletion completions/taskwarrior-tui.fish fish
}

do_check() {
	git clone https://github.com/kdheepak/taskwarrior-testdata/
	export TASKRC=$(pwd)/taskwarrior-testdata/.taskrc
	export TASKDATA=$(pwd)/taskwarrior-testdata/.task
	task import $(pwd)/taskwarrior-testdata/export.json
}
